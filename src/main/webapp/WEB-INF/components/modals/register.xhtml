<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
	  template="../../templates/modal.xhtml"
	  xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">

	<ui:param name="modalID" value="registerModal" />
  	<ui:define name="modal-content">
	  <div class="modal-header">
		<h5 class="modal-title">Register</h5>
		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" />
	  </div>
	  <form id="registerForm"
			class="modal-body"
			method="post"
			action="${pageContext.request.contextPath}/auth">
		<div>
		  <div id="errorAlertRegister" class="alert alert-danger d-flex align-items-center d-none alert-dismissible fade show" role="alert">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#842029" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Warning:">
			  <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
			</svg>
			<div id="errorMessageRegister"></div>
			<button id="alertCloseButtonRegister" type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" />
		  </div>
		</div>
		<div class="row mb-3">
		  <div class="col-md-6">
			<label for="txtFirstName" class="form-label">First name</label>
			<input id="txtFirstName" class="form-control" type="text" name="firstName" required="required" />
		  </div>
		  <div class="col-md-6">
			<label for="txtLastName" class="form-label">Last name</label>
			<input id="txtLastName" class="form-control" type="text" name="lastName" required="required" />
		  </div>
		</div>
		<div class="input-group mb-3">
		  <span class="input-group-text"><i class="lni lni-envelope" /></span>
		  <input id="txtEmailRegister" type="email" class="form-control" placeholder="Email" required="required" name="email" />
		</div>
		<div class="input-group mb-3">
		  <span class="input-group-text"><i class="lni lni-lock-alt"/></span>
		  <input id="txtPasswordRegister" type="password"
				 class="form-control" placeholder="Password"
				 required="required" name="password"
				 pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,40}"
				 oninvalid="this.setCustomValidity('Password must be between 8 and 40 characters, contain 1 uppercase and lowercase letter and 1 number.')"
		  		 onchange="this.setCustomValidity('')"/>
		</div>
		<div class="input-group mb-3">
		  <span class="input-group-text"><i class="lni lni-lock-alt"/></span>
		  <input id="txtPasswordConfirmRegister" type="password" class="form-control" placeholder="Confirm Password" required="required" name="passwordConfirm" />
		</div>
		<input id="txtTokenRegister" type="text" name="sessionToken" class="d-none" />
		<input type="text" name="formType" value="registerForm" readonly="readonly" class="d-none" />
		<input id="txtUserIdRegister" type="text" name="uid" class="d-none"/>
		<div class="d-grid gap-2">
		  <button type="submit" id="btnRegister" class="btn btn-primary">
			<span id="btnRegisterSpinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true" />
			Register
		  </button>
		  <p class="fw-normal text-black-50">Already have an account?
			<a href="javascript:void(0);" class="text-primary text-decoration-underline fw-bold">
			  Sign in
			</a>
		  </p>
		</div>
	  </form>
	</ui:define>
</ui:composition>

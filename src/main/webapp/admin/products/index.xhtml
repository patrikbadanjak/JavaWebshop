<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
		template="../../WEB-INF/templates/main.xhtml"
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:f="http://xmlns.jcp.org/jsf/core">

  <ui:define name="title">Admin - Products</ui:define>
  <ui:define name="body">
	<div class="container-fluid my-3">
	  <h1 class="display-4 text-center mb-3">Products</h1>
	  <div class="w-75 d-flex align-items-center justify-content-end">
		<h:link styleClass="btn btn-info" outcome="#{adminNavigation.getAddProduct()}">
		  <i class="lni lni-plus" /> Add product
		</h:link>
	  </div>
	  <div class="table-responsive">
		<h:form>
		  <h:dataTable value="#{productRepositoryImpl.getProducts()}" var="product"
					   styleClass="table table-striped align-middle">
			<h:column>
			  <f:facet name="header">ID</f:facet>
			  #{product.id}
			</h:column>
			<h:column>
			  <f:facet name="header">Product</f:facet>
			  <h:link value="#{product}" outcome="#{productNavigation.productDetails}">
				<f:param name="id" value="#{product.id}" />
			  </h:link>
			</h:column>
			<h:column>
			  <f:facet name="header">Actions</f:facet>
			  <h:link outcome="#{adminNavigation.editProduct}" value="Edit" styleClass="btn btn-secondary d-inline-block">
				<f:param name="id" value="#{product.id}" />
			  </h:link>
			  <h:form styleClass="d-inline-block">
				<h:commandButton styleClass="btn btn-danger d-inline-block" value="Delete" action="#{productRepositoryImpl.deleteProduct(product)}" />
			  </h:form>
			</h:column>
		  </h:dataTable>
		</h:form>
	  </div>
	</div>
  </ui:define>
</ui:composition>